id: backfill-green-taxi-2020
namespace: zoomcamp
description: Backfill all 12 months of 2020 for green taxi

tasks:
  - id: loop-over-months
    type: io.kestra.plugin.core.flow.ForEach
    values: ["01","02","03","04","05","06","07","08","09","10","11","12"]
    tasks:
      - id: trigger-monthly-flow
        type: io.kestra.plugin.core.flow.Subflow
        flowId: module2_hw      
        namespace: zoomcamp
        inputs:
          taxi: "green"
          year: "2020"
          month: "{{ taskrun.value }}"